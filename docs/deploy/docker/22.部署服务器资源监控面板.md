## 介绍

[beszel](https://github.com/henrygd/beszel) 一款轻量级的服务器资源使用率监控面板, 运维好帮手

::: code-group

```sh
networks:
  caddy_net:

services:
  # https 支持(可选)
  caddy:
    image: caddy:latest
    container_name: caddy
    restart: unless-stopped
    networks:
      - caddy_net
    ports:
      - 80:80
      - 443:443
    volumes:
      - ./caddy/etc:/etc/caddy
      - ./caddy/data:/data
      - ./caddy/config:/config

  beszel:
    image: henrygd/beszel:latest
    container_name: beszel
    restart: unless-stopped
    networks:
      - caddy_net
    # 开启反向代理就不需要暴露端口了
    # ports:
    #   - 8090:8090
    volumes:
      - ./beszel_data:/beszel_data
      - ./beszel_socket:/beszel_socket

  # 这个应该从 beszel 里面复制:
  # 选择编辑 -> 复制 docker-compose.yaml -> 粘贴到这里 ->  重启服务
  beszel-agent:
    image: "henrygd/beszel-agent"
    container_name: "beszel-agent"
    restart: unless-stopped
    network_mode: host
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
    environment:
      LISTEN: 45876
      KEY: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIFKvsqX7ONqRYu1D53+/lr7Wu0vIS6p1fkU2qCyDnQky"

```

```txt [caddy/etc/Caddyfile 配置文件]
beszel.liaohui5.cn {
	reverse_proxy beszel:8090 {
		health_interval 10s
		health_timeout 5s
	}
}
```

:::
